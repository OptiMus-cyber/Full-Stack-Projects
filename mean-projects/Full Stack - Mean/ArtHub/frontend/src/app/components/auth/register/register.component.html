<div class="container d-flex justify-content-center align-items-center py-4">
    <div class="card p-4 shadow-sm" style="width: 500px">
        <h2 class="text-center mb-3">Create an Account</h2>
        <div *ngIf="successMessage" class="text text-success text-center" id="successMessage">
            <h6>{{successMessage}}</h6>
        </div>
        <div *ngIf="errorMessage" class="text text-danger text-center" id="errorMessage">
            <h6>{{errorMessage}}</h6>
        </div>
        <form [formGroup]="registerForm" (ngSubmit)="register()">
            <!-- Name Field -->
            <div class="mb-3">
                <label class="form-label">Full Name*</label>
                <input id="name" name="name" type="text" class="form-control" formControlName="name" placeholder="Enter your full name">
                <div class="text-danger small alert alert-danger py-2" *ngIf="registerForm.controls['name'].invalid && registerForm.controls['name'].dirty">Name is required (min. 3 characters)</div>
            </div>

            <!-- Email Field -->
            <div class="mb-3">
                <label class="form-label">Email*</label>
                <input id="email" name="email" type="email" class="form-control" formControlName="email" placeholder="Enter your email">
                <div class="text-danger small alert alert-danger py-2" *ngIf="registerForm.controls['email'].invalid && registerForm.controls['email'].dirty">
                    Enter a valid email address
                </div>
            </div>

            <!-- Password Field -->
            <div class="mb-3">
                <label class="form-label">
                    Password*
                </label>
                <input id="password" name="password" type="password" class="form-control" formControlName="password" placeholder="Enter a strong password">
                <div class="text-danger small alert alert-danger py-2" *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].dirty">
                    Password must have:
                    <ul>
                        <li>At least 8 characters</li>
                        <li>1 uppercase & 1 lowercase</li>
                        <li>1 number & 1 special symbols (@$!%*?#&)</li>
                    </ul>
                </div>
            </div>

            <!-- Confirm Password Field -->
            <div class="mb-3">
                <label class="form-label">
                    Confirm Password*
                </label>
                <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" formControlName="confirmPassword" placeholder="Re-enter your password" (change)="validEmailPattern()">
                <div class="text-danger small alert alert-danger py-2" *ngIf="registerForm.errors?.['passwordsNotMatching'] && registerForm.controls['confirmPassword'].dirty">
                    Password must match
                </div>
            </div>

            <!-- Role Selection -->
            <div class="mb-3">
                <label class="form-label">
                    Role*
                </label>
                <select #role id="role" name="role" class="form-select" formControlName="role" [class]="role.value?'':'text-secondary'">
                    <option class="text-secondary" value="">Select Role</option>
                    <option class="text-dark" value="buyer">Buyer</option>
                    <option class="text-dark" value="artist">Artist</option>
                </select>
            </div>

            <!-- Submit Button -->
            <button class="btn btn-primary w-100" type="submit" [disabled]="registerForm.invalid">Register</button>

            <!-- Login Link -->
            <p class="text-center mt-3 small">Already have an account? <a routerLink="/login">Login</a></p>
        </form>
    </div>
</div>
